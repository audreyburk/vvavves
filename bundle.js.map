{"version":3,"sources":["webpack:///webpack/bootstrap 854794838aefdbe72ae5","webpack:///./lib/run_script.js","webpack:///./lib/game.js","webpack:///./lib/canvas.js","webpack:///./lib/wave.js","webpack:///./lib/point.js","webpack:///./lib/ship.js","webpack:///./lib/listener.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;;;;;;;ACFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAQ;AACR,OAAM;AACN;AACA;AACA;AACA,SAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC7FA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,wBAAuB,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ;AACrE;AACA;AACA;;;AAGA;;;;;;;ACrBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,cAAc,IAAI,QAAQ,SAAS,QAAQ;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,6BAA6B;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAuC;AACvC,wCAAuC;;AAEvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;;;;;;ACpDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 854794838aefdbe72ae5\n **/","const Game = require('./game');\n\ndocument.addEventListener(\"DOMContentLoaded\", Game.init);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/run_script.js\n ** module id = 0\n ** module chunks = 0\n **/","const Canvas = require('./canvas');\nconst Wave = require('./wave');\nconst Ship = require('./ship');\nconst Listener = require('./listener');\n\nfunction Game(){\n  this.canvas = new Canvas;\n  this.waves = [];\n  this.ships = [];\n\n  this.tideIn = true;\n  this.tide = 3;\n\n  this.lIncreasing = true;\n  this.color = {\n    h: Math.random() * 360,\n    s: 100,\n    l: 5,\n    a: 1\n  };\n\n  for(let i = 0; i < 7; i++){\n    const offset = i * 50;\n    const wave = new Wave(this.canvas, offset, \"rgba(255, 255, 255, .3)\");\n    this.waves.push(wave);\n\n    this.ships.push(new Ship(this.waves[i], this.canvas.ctx));\n  }\n}\n\nGame.init = function(){\n  const game = new Game;\n  game.run();\n};\n\nGame.prototype.changeTide = function () {\n  console.log(Listener.mousePosition);\n  // make this smooth by checking if we're higher/lower than hat number, then incrementing by .05 or whatev\n  if(this.tide > 5 * Listener.mousePosition){\n    this.tide -= 0.1;\n  } else {\n    this.tide += 0.1;\n  }\n\n  // if(this.tideIn){\n  //   if(this.tide >= 3.5){\n  //     this.tideIn = false;\n  //     this.tide -= .001;\n  //   } else this.tide += .001;\n  // } else {\n  //   if(this.tide <= 2){\n  //     this.tideIn = true;\n  //     this.tide += .001;\n  //   } else this.tide -= .001;\n  // }\n};\n\nGame.prototype.changeColor = function(){\n  this.color.h >= 360 ? this.color.h = 0 : this.color.h += .1;\n\n  if(this.lIncreasing){\n    if(this.color.l >= 30){\n      this.lIncreasing = false;\n      this.color.l -= .01;\n    } else this.color.l += .01;\n  } else {\n    if(this.color.l <= 5){\n      this.lIncreasing = true;\n      this.color.l += .01;\n    } else this.color.l -= .01;\n  }\n};\n\nGame.prototype.render = function(){\n  this.changeColor();\n  this.changeTide();\n\n  this.canvas.render(this.color);\n\n  // ships stored in each waves\n  // each waves renders ships before itself\n  for(let i = 0; i < this.ships.length; i++){\n    this.ships[i].move();\n    this.ships[i].render(this.color);\n    if(this.waves[i]) this.waves[i].render(this.tide);\n  }\n};\n\nGame.prototype.run = function(){\n  this.render();\n  window.requestAnimationFrame(() => this.run());\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","function Canvas(){\n  this.self = document.getElementById(\"canvas\")\n\n  this.self.width = window.innerWidth;\n  this.self.height = window.innerHeight;\n\n  this.width = this.self.width;\n  this.height = this.self.height;\n  this.ctx = this.self.getContext(\"2d\");\n\n\n  this.ctx.globalAlpha = 0.7;\n}\n\nCanvas.prototype.render = function (color) {\n  const hsla = `hsla(${color.h}, ${color.s}%, ${color.l}%, ${color.a})`;\n  this.self.style.background = hsla;\n  this.ctx.clearRect(0, 0, this.width, this.height);\n};\n\n\nmodule.exports = Canvas;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/canvas.js\n ** module id = 2\n ** module chunks = 0\n **/","const Point = require('./point');\n\nfunction Wave(canvas, offset, color) {\n  this.canvas = canvas;\n  this.points = Point.generatePoints(canvas.width, canvas.height, offset);\n  this.color = color;\n}\n\nWave.prototype.render = function(tide) {\n  const ctx = this.canvas.ctx;\n  const width = this.canvas.width;\n  const height = this.canvas.height;\n\n  ctx.save();\n  ctx.fillStyle = this.color;\n  ctx.beginPath();\n  ctx.moveTo(this.points[0].x, this.points[0].y);\n  this.points.forEach( (point, i) => {\n    point.move(tide);\n    const nextPoint = this.points[i + 1];\n    if (nextPoint) {\n      const ctrlPoint = {\n        x: (point.x + nextPoint.x) / 2,\n        y: (point.y + nextPoint.y) / 2\n      };\n      ctx.quadraticCurveTo(point.x, point.y, ctrlPoint.x, ctrlPoint.y);\n    }\n  });\n\n  this.keepPointsInBounds();\n\n  ctx.lineTo(width, height);\n  ctx.lineTo(0, height);\n  ctx.fill();\n\n  ctx.restore();\n};\n\nWave.prototype.keepPointsInBounds = function(){\n  if(this.points[this.points.length-1].x > this.canvas.width + (this.canvas.width / 9)){\n    const newPoint = new Point(\n      this.points[0].x - (this.canvas.width / 18),\n      this.points[this.points.length-1].y,\n      this.points[this.points.length-1].oldY,\n      Math.random() * 360,\n      0.0175 + Math.random()*0.0175\n    );\n    this.points.unshift(newPoint);\n    this.points.pop();\n  } else if(this.points[0].x < (0 - (this.canvas.width / 9))){\n    const newPoint = new Point(\n      this.points[this.points.length-1].x + (this.canvas.width / 18),\n      this.points[0].y,\n      this.points[0].oldY,\n      Math.random() * 360,\n      0.0175 + Math.random()*0.0175\n    );\n    this.points.push(newPoint);\n    this.points.shift();\n  }\n};\n\nmodule.exports = Wave;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wave.js\n ** module id = 3\n ** module chunks = 0\n **/","function Point(x, y, oldY, angle, speed){\n  this.x = x;\n  this.y = y;\n  this.oldY = oldY;\n  this.angle = angle;\n  this.speed = speed;\n}\n\nPoint.generatePoints = function(width, height, offset){\n  const yCenter = height / 2;\n  const spacing = width / 18;\n  const points = [];\n\n  for (let x = 0; x <= width + width / 4; x += spacing) {\n    const angle = Math.random() * 360;\n    let randomOffset = Math.random() * 60 - 30;\n    const point = new Point(\n      x + (Math.random()*20 - 10),\n      yCenter + offset + randomOffset,\n      yCenter + offset + randomOffset + 10 + Math.random() * 20,\n      angle,\n      0.0175 + Math.random()*0.0175\n    );\n    points.push(point);\n  }\n  return points;\n};\n\nPoint.prototype.move = function (tide) {\n  this.y = this.oldY + Math.sin(this.angle) * 35;\n  this.x += tide;\n  this.angle += this.speed;\n};\n\nmodule.exports = Point;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/point.js\n ** module id = 4\n ** module chunks = 0\n **/","const Listener = require('./listener');\n\nfunction Ship(wave, ctx){\n  this.wave = wave;\n  this.ctx = ctx;\n  this.x = Math.random() * (window.innerWidth - 100) + 50;\n  this.y = 0;\n  this.tilt = 0;\n}\n\nShip.prototype.render = function(color){\n  const hsla = `hsla(${color.h + 120}, ${color.s}%, 0%, ${color.a})`;\n\n  this.ctx.save();\n  this.ctx.fillStyle = hsla;\n  this.ctx.beginPath();\n  const begin = .2 + this.tilt;\n  const end = Math.PI-.2 + this.tilt;\n  this.ctx.arc(this.x, this.y - 15, 25, begin, end);\n  this.ctx.fill();\n  this.ctx.restore();\n};\n\nShip.prototype.move = function(){\n  if(Listener.keys[40]) this.x += 1;\n  if(Listener.keys[38]) this.x -= 1;\n  for(let i = 0; i < this.wave.points.length; i++){\n    const point = this.wave.points[i];\n    if(point.x > this.x){\n      const prevPoint = this.wave.points[i-1];\n\n      const total = Math.abs(point.x - prevPoint.x)\n      const left = Math.abs(this.x - prevPoint.x);\n      const right = Math.abs(this.x - point.x);\n      const leftWeight = right / total; // opposite on purpose\n      const rightWeight = left / total; // closer should mean bigger, not smaller\n\n      this.y = (prevPoint.y * leftWeight + point.y * rightWeight);\n      const heightWidthRatio = (point.y - prevPoint.y) / (point.x - prevPoint.x);\n      this.x += 2 * heightWidthRatio;\n      this.tilt = (Math.PI / 2) * heightWidthRatio * (leftWeight < rightWeight ? leftWeight : rightWeight);\n\n      break\n    }\n  }\n};\n\nmodule.exports = Ship;\n\n\n\n\n// y(t) = (y0−2y1+y2)t^2 + (2y1−2y0)t + y0\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ship.js\n ** module id = 5\n ** module chunks = 0\n **/","const _viableKeys = [37, 38, 39, 40];\n\nfunction Listener(){\n  this.keys = {};\n  this.mousePosition = 0;\n\n  document.addEventListener(\"keydown\", e => this._keyDown(e));\n  document.addEventListener(\"keyup\", e => this._keyUp(e));\n  document.addEventListener(\"mousemove\", e => this._mouseMove(e));\n}\n\nListener.prototype._keyDown = function (e) {\n  console.log(e.keyCode);\n  const code = e.keyCode;\n  if(_viableKeys.includes(code)){\n    e.preventDefault();\n    this._keys[e.keyCode] = true;\n  }\n};\n\nListener.prototype._keyUp = function (e) {\n  const code = e.keyCode;\n  if(_viableKeys.includes(code)){\n    e.preventDefault();\n    delete this._keys[code];\n  }\n};\n\nListener.prototype._mouseMove = function (e) {\n  this.mousePosition = (e.clientX - (window.innerWidth / 2)) / (window.innerWidth / 2);\n};\n\n\nmodule.exports = new Listener;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/listener.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}